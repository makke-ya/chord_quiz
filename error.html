<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ã‚¨ãƒ©ãƒ¼</title>
    <link href="static/style.css" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
</head>

<body class="bg-gray-50 min-h-screen flex items-center justify-center">
    <div class="w-full max-w-3xl p-6">
        <div class="bg-white rounded-xl shadow p-6">
            <div class="text-center mb-6">
                <div class="text-6xl mb-4">ğŸ˜¢</div>
                <h1 class="text-2xl font-bold text-red-600 mb-2">ã‚¨ãƒ©ãƒ¼ãŒ ã¯ã£ã›ã„ ã—ã¾ã—ãŸ</h1>
                <p id="errorMessage" class="text-gray-600 mb-4">ãªã«ã‹ ã‚‚ã‚“ã ã„ãŒ ãŠãã¾ã—ãŸ</p>
            </div>

            <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
                <p class="text-sm text-gray-700 mb-2">ã‹ã‚“ãŒãˆã‚‰ã‚Œã‚‹ ã’ã‚“ã„ã‚“:</p>
                <ul class="text-sm text-gray-600 list-disc list-inside space-y-1">
                    <li>ãŠã¨ãƒ•ã‚¡ã‚¤ãƒ«ãŒ ã‚ˆã¿ã“ã‚ã¾ã›ã‚“</li>
                    <li>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãŒ ã¤ãªãŒã£ã¦ã„ã¾ã›ã‚“</li>
                    <li>ãƒ–ãƒ©ã‚¦ã‚¶ã® ã‚‚ã‚“ã ã„ãŒ ã‚ã‚Šã¾ã™</li>
                </ul>
            </div>

            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                <p class="text-sm text-gray-700 mb-2">ãŸã‚ã—ã¦ã¿ã¦ãã ã•ã„:</p>
                <ul class="text-sm text-gray-600 list-disc list-inside space-y-1">
                    <li>ãƒšãƒ¼ã‚¸ã‚’ ã•ã„ã©ã†ã‚ˆã¿ã“ã¿ ã—ã¦ãã ã•ã„</li>
                    <li>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã›ã¤ããã‚’ ã‹ãã«ã‚“ ã—ã¦ãã ã•ã„</li>
                    <li>ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ ã•ã„ãã©ã† ã—ã¦ãã ã•ã„</li>
                </ul>
            </div>

            <div class="flex flex-col sm:flex-row gap-3 justify-center">
                <button onclick="window.location.reload()"
                    class="btn-action px-6 py-3 bg-blue-500 text-white rounded-lg font-bold hover:bg-blue-600">
                    ãƒšãƒ¼ã‚¸ã‚’ ã•ã„ã©ã†ã‚ˆã¿ã“ã¿
                </button>
                <button onclick="location.href='index.html'"
                    class="btn-action px-6 py-3 border border-gray-300 rounded-lg bg-white hover:bg-gray-50">
                    ã‚¿ã‚¤ãƒˆãƒ«ã¸ ã‚‚ã©ã‚‹
                </button>
            </div>

            <div id="errorDetails" class="mt-6 p-4 bg-gray-100 rounded text-xs text-gray-500 font-mono hidden"></div>
        </div>
    </div>

    <script>
        // Get error message from URL parameter or localStorage
        const urlParams = new URLSearchParams(window.location.search);
        const errorMsg = urlParams.get('error') || localStorage.getItem('lastError') || 'ãµã‚ã„ãª ã‚¨ãƒ©ãƒ¼';

        document.getElementById('errorMessage').textContent = errorMsg;

        // Show technical details if available
        const errorDetails = urlParams.get('details') || localStorage.getItem('lastErrorDetails');
        if (errorDetails) {
            const detailsDiv = document.getElementById('errorDetails');
            detailsDiv.textContent = 'Technical details: ' + errorDetails;
            detailsDiv.classList.remove('hidden');
        }

        // Clear error from localStorage after displaying
        localStorage.removeItem('lastError');
        localStorage.removeItem('lastErrorDetails');

        // Log error for debugging
        console.error('Error page displayed:', errorMsg, errorDetails);
    </script>
</body>

</html>